import {
  to = segment_reverse_etl_model.id-h4TDxzbycXX93v6BGcK9As
  id = "h4TDxzbycXX93v6BGcK9As"
}

resource "segment_reverse_etl_model" "id-h4TDxzbycXX93v6BGcK9As" {
  description             = " "
  enabled                 = true
  name                    = "bc-test-retl-model-regular-updates"
  query                   = "select\n    user_id,\n    masterpersonid,\n    phone,\n    case\n        when cntAccounts > 1 then true\n        else false\n    end as hasMultipleAccounts,last_updated_date\nfrom\n    (\n        select\n            customerguid as user_id,\n            MASTERPERSONID masterpersonid,\n            CELLPHONENUMBER phone,\n            count(ai.accountnumber) cntAccounts, CURRENT_DATE last_updated_date\n        from\n            NON_PROD_REPLICATED.SHAREDLOANDATA.REPORTING_TBLCUSTOMERINFO tci\n            left outer join NON_PROD_REPLICATED.SHAREDLOANDATA.REPORTING_TBLACCOUNTINFO AI on tci.customerid = ai.CUSTOMERIDBUYER\n        where\n            tci.customerid in (\n                737119,\n                216765,\n                141757,\n                218403,\n                216206,\n                217186,\n                218756,\n                218601,\n                216111,\n                70680,\n                167248,\n                737276,\n                216026,\n                561766,\n                51763,\n                736583,\n                154745,\n                234082,\n                216795,\n                218380,\n                10051,\n                736361,\n                736124,\n                108379,\n                735578,\n                849120,\n                735341,\n                738258,\n                887960,\n                215284,\n                737338,\n                215612,\n                215805,\n                215597,\n                272593,\n                737834,\n                218478,\n                111028,\n                375018,\n                216569,\n                735827,\n                132065,\n                214677,\n                215358,\n                214771,\n                217937,\n                218416,\n                145241,\n                300344,\n                216341,\n                216702,\n                737109,\n                133581,\n                216029,\n                485337,\n                736519,\n                737163,\n                445967,\n                217982,\n                214764,\n                579400,\n                151277,\n                1054260,\n                738212,\n                4642,\n                735765,\n                218066,\n                737636,\n                735271,\n                216389,\n                736364,\n                735200,\n                735270,\n                733690,\n                217911,\n                215450,\n                216427,\n                738359,\n                215648,\n                216989,\n                218382,\n                217242,\n                738064,\n                218613,\n                718475,\n                214794,\n                737446,\n                738144,\n                1517067,\n                579925,\n                205147,\n                359573,\n                511623,\n                500566,\n                112693,\n                647337,\n                217191,\n                735766,\n                736604,\n                735701,\n                218800,\n                215806,\n                217411,\n                215191,\n                216519,\n                218333,\n                216034,\n                735224,\n                136186,\n                216932,\n                217696,\n                215721,\n                351193,\n                736023,\n                736614,\n                218357,\n                218402,\n                738259,\n                736405,\n                10150,\n                218596,\n                735869,\n                736820,\n                736466,\n                725311,\n                215993,\n                737837,\n                8286,\n                736366,\n                469283,\n                473248,\n                923390,\n                735111,\n                216171,\n                736035,\n                738355,\n                215712,\n                143842,\n                736636,\n                735340,\n                736500,\n                216808,\n                216985,\n                214606,\n                214577,\n                218625,\n                736001,\n                141966,\n                735632,\n                215059,\n                215001,\n                217308,\n                737077,\n                217906,\n                850243,\n                738165,\n                103377,\n                736520,\n                104893,\n                215532,\n                627035,\n                839518,\n                738186,\n                777835,\n                720370,\n                217391,\n                736676,\n                217282,\n                218476,\n                215570,\n                217856,\n                215408,\n                283598,\n                736975,\n                218082,\n                216078,\n                738059,\n                217501,\n                225931,\n                737801,\n                736066,\n                718482,\n                218221,\n                3045364,\n                765368,\n                849339,\n                865610,\n                103682,\n                214981,\n                217861,\n                736994,\n                214359,\n                215240,\n                736423,\n                319958,\n                186833,\n                737502,\n                217605,\n                735870,\n                737374,\n                216963,\n                216191,\n                156626,\n                217050,\n                217659,\n                216081,\n                215821,\n                735329,\n                736533,\n                216315,\n                217266,\n                696732,\n                738184,\n                215903,\n                735902,\n                415907,\n                216134,\n                216097,\n                735357,\n                119043,\n                736951,\n                215884,\n                67087,\n                355133,\n                849406,\n                141773,\n                90987,\n                218323,\n                735516,\n                673091,\n                490627,\n                4004097,\n                849057,\n                737666,\n                738164,\n                163214,\n                737520,\n                216297,\n                215213,\n                216823,\n                214466,\n                216046,\n                216271,\n                218500,\n                736205,\n                217475,\n                112720,\n                216266,\n                10161,\n                736438,\n                216997,\n                184187,\n                737099,\n                1593814,\n                738490,\n                185961,\n                718481,\n                1109774,\n                736024,\n                221875,\n                110308,\n                779040,\n                737164,\n                683746,\n                366307,\n                1780689\n            ) and accountstatuskey in ('A','W','R')\n        group by\n            user_id,\n            MASTERPERSONID,\n            CELLPHONENUMBER\n    )"
  query_identifier_column = "user_id"
  schedule_config         = jsonencode({})
  schedule_strategy       = ""
  source_id               = "ifP3K6J6hzYPxN9wkV48qy"
}